<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/Models/Nodes/DirectoryNode.cs">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/Models/Nodes/DirectoryNode.cs" />
              <option name="originalContent" value="using System;&#10;using System.Collections.Generic;&#10;using System.Collections.Immutable;&#10;using System.Linq;&#10;using CommunityToolkit.Mvvm.ComponentModel;&#10;&#10;namespace Navigator.Models.Nodes;&#10;&#10;/// &lt;summary&gt;&#10;/// Represents a folder item&#10;/// &lt;/summary&gt;&#10;public partial class DirectoryNode : BaseNode {&#10;    #region Properties ----------------------------------------------&#10;    [ObservableProperty]&#10;    private ImmutableArray&lt;BaseNode&gt; _children = [];&#10;    #endregion&#10;&#10;    #region Constructor ---------------------------------------------&#10;    public DirectoryNode(string path, bool isRecursive = true) : base(path) {&#10;        if (isRecursive)&#10;            UpdateChildren();&#10;    }&#10;    #endregion&#10;&#10;    #region Methods -------------------------------------------------&#10;    public void UpdateChildren(bool isRecursive = false) {&#10;        try {&#10;            IEnumerable&lt;BaseNode&gt; directories = System.IO.Directory.GetDirectories(Path)&#10;                .Select(dirPath =&gt; new DirectoryNode(dirPath, isRecursive));&#10;            IEnumerable&lt;BaseNode&gt; files = System.IO.Directory.GetFiles(Path)&#10;                .Select(filePath =&gt; new FileNode(filePath));&#10;            Children = [..directories.Concat(files)];&#10;            Logger.Debug($&quot;Fetched {Children.Length} children for directory: {Path}&quot;);&#10;        }&#10;        catch (UnauthorizedAccessException) {&#10;            Logger.Warning($&quot;Access denied to directory: {Path}&quot;);&#10;            Children = [];&#10;        }&#10;        catch (Exception ex) {&#10;            Logger.Error($&quot;Error accessing directory {Path}&quot;, ex);&#10;            Children  = [];&#10;        }&#10;        OnPropertyChanged(nameof(Children));&#10;    }&#10;    #endregion&#10;&#10;    #region Static Methods ------------------------------------------&#10;    public new static string Icon =&gt; &quot;&quot;;&#10;    #endregion&#10;}&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="using System;&#10;using System.Collections.Generic;&#10;using System.Collections.Immutable;&#10;using System.Linq;&#10;using CommunityToolkit.Mvvm.ComponentModel;&#10;&#10;namespace Navigator.Models.Nodes;&#10;&#10;/// &lt;summary&gt;&#10;/// Represents a folder item&#10;/// &lt;/summary&gt;&#10;public partial class DirectoryNode : BaseNode {&#10;    #region Properties ----------------------------------------------&#10;    [ObservableProperty]&#10;    private ImmutableArray&lt;BaseNode&gt; _children = [];&#10;&#10;    [ObservableProperty]&#10;    private bool _isExpanded;&#10;    #endregion&#10;&#10;    #region Constructor ---------------------------------------------&#10;    public DirectoryNode(string path, bool isRecursive = true) : base(path) {&#10;        if (isRecursive)&#10;            UpdateChildren();&#10;    }&#10;    #endregion&#10;&#10;    #region Methods -------------------------------------------------&#10;    partial void OnIsExpandedChanged(bool value)&#10;    {&#10;        if (value &amp;&amp; Children.IsEmpty)&#10;        {&#10;            // Load children lazily when expanded for the first time&#10;            UpdateChildren();&#10;        }&#10;    }&#10;&#10;    public void UpdateChildren(bool isRecursive = false) {&#10;        try {&#10;            IEnumerable&lt;BaseNode&gt; directories = System.IO.Directory.GetDirectories(Path)&#10;                .Select(dirPath =&gt; new DirectoryNode(dirPath, isRecursive));&#10;            IEnumerable&lt;BaseNode&gt; files = System.IO.Directory.GetFiles(Path)&#10;                .Select(filePath =&gt; new FileNode(filePath));&#10;            Children = [..directories.Concat(files)];&#10;            Logger.Debug($&quot;Fetched {Children.Length} children for directory: {Path}&quot;);&#10;        }&#10;        catch (UnauthorizedAccessException) {&#10;            Logger.Warning($&quot;Access denied to directory: {Path}&quot;);&#10;            Children = [];&#10;        }&#10;        catch (Exception ex) {&#10;            Logger.Error($&quot;Error accessing directory {Path}&quot;, ex);&#10;            Children  = [];&#10;        }&#10;        OnPropertyChanged(nameof(Children));&#10;    }&#10;    #endregion&#10;&#10;    #region Static Methods ------------------------------------------&#10;    public new static string Icon =&gt; &quot;&quot;;&#10;    #endregion&#10;}&#10;&#10;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>